{"map":"{\"version\":3,\"sources\":[\"global-settings.js\"],\"names\":[\"e\",\"a\",\"i\",\"exports\",\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"module\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"11\",\"__webpack_exports__\",\"GlobalSettingsService\",\"[object Object]\",\"globalRepo\",\"this\",\"getGlobalSettings\",\"transcribe\",\"encrypt\",\"deliveryEmail\",\"availableSMSCountries\",\"updateGlobalSettings\",\"then\",\"result\",\"console\",\"log\",\"JSON\",\"stringify\",\"transcribeVoicemail\",\"encryptVoicemail\",\"Attributes\",\"createGlobalSettings\",\"process\",\"env\",\"DELIVERY_EMAIL\",\"1204\",\"_service_global_settings_services__WEBPACK_IMPORTED_MODULE_0__\",\"_repo_global_repo__WEBPACK_IMPORTED_MODULE_1__\",\"_lib_responder__WEBPACK_IMPORTED_MODULE_2__\",\"globalSettingsService\",\"update\",\"async\",\"event\",\"context\",\"parse\",\"body\",\"Response\",\"settings\",\"catch\",\"err\",\"Error\",\"getSettings\",\"14\",\"global_repo_GlobalRepo\",\"dynamo\",\"GlobalSettings\",\"globalSettingsMap\",\"AVAILABLE_SMS_COUNTRIES\",\"split\",\"GLOBAL_TABLE_NAME\",\"amazonConnectInstanceArn\",\"AMAZON_CONNECT_INSTANCE_ARN\",\"params\",\"Key\",\"instanceArn\",\"getItem\",\"item\",\"Item\",\"put\",\"_updateGlobalSettings\",\"ExpressionAttributeValues\",\":tv\",\":ev\",\":de\",\":ac\",\"UpdateExpression\",\"3\",\"require\",\"4\",\"DynamoDBService\",\"AWS\",\"tableName\",\"client\",\"DynamoDB\",\"DocumentClient\",\"promise\",\"query\",\"Items\",\"items\",\"scan\",\"allItems\",\"concat\",\"LastEvaluatedKey\",\"ExclusiveStartKey\",\"data\",\"next\",\"Buffer\",\"from\",\"toString\",\"callback\",\"batch\",\"startingIndex\",\"Promise\",\"resolve\",\"reject\",\"_batchWrite\",\"length\",\"index\",\"batchWrite\",\"nextData\",\"endIndex\",\"batchToUpdate\",\"slice\",\"batchParam\",\"RequestItems\",\"6\",\"Responder\",\"ALLOW_ORIGIN_HEADER\",\"Access-Control-Allow-Origin\",\"Access-Control-Allow-Credentials\",\"Strict-Transport-Security\",\"X-Frame-Options\",\"statusCode\",\"cors\",\"customHeaders\",\"response\",\"headers\",\"error\",\"description\",\"errorMessage\",\"errorName\",\"errorStack\",\"developerMessage\",\"message\",\"stack\"],\"mappings\":\"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\"}","code":"!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1204)}({11:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));class r{constructor(e){this.globalRepo=e}getSettings(){return this.globalRepo.getGlobalSettings()}update(e,t,n,r){return this.globalRepo.updateGlobalSettings(e,t,n,r).then(e=>{console.log(\"Result: \"+JSON.stringify(e));let{transcribeVoicemail:t,encryptVoicemail:n,deliveryEmail:r,availableSMSCountries:a}=e.Attributes;return{transcribeVoicemail:t,encryptVoicemail:n,deliveryEmail:r,availableSMSCountries:a}})}createDefault(){return this.globalRepo.createGlobalSettings(!0,!0,process.env.DELIVERY_EMAIL)}}},1204:function(e,t,n){\"use strict\";n.r(t);var r=n(11),a=n(14),i=n(6);const s=new r.a(new a.a);exports.update=async(e,t)=>{let{transcribeVoicemail:n,encryptVoicemail:r,deliveryEmail:a,availableSMSCountries:o}=JSON.parse(e.body);return console.log(\"Update Global Settings\"),s.update(n,r,a,o).then(e=>i.a.Response(200,{settings:e},!0)).catch(e=>i.a.Error(400,e,\"Unable to update global settings\",!0))},exports.get=async(e,t)=>(console.log(\"Update Global Settings\"),s.getSettings().then(e=>i.a.Response(200,{settings:e},!0)).catch(e=>i.a.Error(400,e,\"Unable to update global settings\",!0)))},14:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(4);class a{constructor(e){this.transcribeVoicemail=e.transcribeVoicemail||!1,this.encryptVoicemail=e.encryptVoicemail||!1,this.deliveryEmail=e.deliveryEmail||null,this.availableSMSCountries=e.availableSMSCountries||(process.env.AVAILABLE_SMS_COUNTRIES||\"\").split(\",\")}}class i{constructor(){this.dynamo=new r.a(process.env.GLOBAL_TABLE_NAME),this.amazonConnectInstanceArn=process.env.AMAZON_CONNECT_INSTANCE_ARN}getGlobalSettings(){console.log(\"Getting Global Settings\");let e={Key:{instanceArn:this.amazonConnectInstanceArn}};return this.dynamo.getItem(e).then(e=>e?new a(e):null)}createGlobalSettings(e,t,n,r){let i=new a({transcribeVoicemail:e,encryptVoicemail:t,deliveryEmail:n,availableSMSCountries:r});i.instanceArn=this.amazonConnectInstanceArn;let s={Item:i};return console.log(\"dynamo put\"),this.dynamo.put(s).then(()=>i)}updateGlobalSettings(e,t,n,r){return this.getGlobalSettings().then(a=>a?this._updateGlobalSettings(e,t,n,r):(console.log(\"in create\"),this.createGlobalSettings(e,t,n,r)))}_updateGlobalSettings(e,t,n,r){let a={Key:{instanceArn:this.amazonConnectInstanceArn},ExpressionAttributeValues:{\":tv\":e,\":ev\":t,\":de\":n,\":ac\":r},UpdateExpression:\"SET transcribeVoicemail=:tv, encryptVoicemail=:ev, deliveryEmail=:de, availableSMSCountries=:ac\"};return this.dynamo.update(a)}}},3:function(e,t){e.exports=require(\"aws-sdk\")},4:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));const r=n(3);class a{constructor(e){this.tableName=e,this.client=new r.DynamoDB.DocumentClient}update(e){return e.TableName=this.tableName,e.ReturnValues=\"ALL_NEW\",this.client.update(e).promise()}put(e){return e.TableName=this.tableName,this.client.put(e).promise()}query(e){return e.TableName=this.tableName,this.client.query(e).promise().then(e=>e.Items||null)}scan(e,t=[]){return e.TableName=this.tableName,this.client.scan(e).promise().then(n=>{let r=t;return n.Items&&(r=t.concat(n.Items)),n.LastEvaluatedKey?(console.log(\"Rescanning with next page\"),e.ExclusiveStartKey=n.LastEvaluatedKey,this.scan(e,r)):r})}queryWithNext(e){return e.TableName=this.tableName,this.client.query(e).promise().then(e=>{let t={data:e.Items||[]};return e.LastEvaluatedKey&&(t.next=Buffer.from(JSON.stringify(e.LastEvaluatedKey),\"utf8\").toString(\"base64\")),t})}scanWithNext(e){return e.TableName=this.tableName,this.client.scan(e).promise().then(e=>{let t={data:e.Items||[]};return e.LastEvaluatedKey&&(t.next=Buffer.from(JSON.stringify(e.LastEvaluatedKey),\"utf8\").toString(\"base64\")),t})}getItem(e,t){return e.TableName=this.tableName,this.client.get(e).promise().then(e=>e.Item||null)}batchWrite(e,t){return new Promise((n,r)=>{this._batchWrite(e,t).then(t=>{e.length>t.index?this.batchWrite(e,t.index).then(e=>{n(e)}):n(t.data)})})}_batchWrite(e,t){return new Promise((n,r)=>{let a=e.length>t+24?t+24:e.length,i=e.slice(t,a),s={RequestItems:{[this.tableName]:i}};this.client.batchWrite(s,(e,r)=>{e&&console.log(\"Any error? \"+JSON.stringify(e,null,2)),n({index:t+24,data:r})})})}}},6:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));const r={\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Credentials\":!0,\"Strict-Transport-Security\":\"max-age=31536000; includeSubDomains\",\"X-Frame-Options\":\"DENY\"};const a={Response:function(e,t={},n=!1,a=null){let i={statusCode:e,body:JSON.stringify(t)};if(n&&(i.headers=r),a){let e=i.headers;e={...e,...a},i.headers=e}return i},Error:function e(t,n,a,i=!1){console.log(n,n instanceof e,n.toString());let s=\"\",o=\"Error\",l=\"\",c=\"\";n.hasOwnProperty(\"message\")&&(s=n.message),n.hasOwnProperty(\"name\")&&(o=n.name),n.hasOwnProperty(\"stack\")&&(l=n.stack),n.hasOwnProperty(\"developerMessage\")&&(c=n.developerMessage);let u={statusCode:t,body:JSON.stringify({errorMessage:a})};return i&&(u.headers=r),console.log(\"Error:\",u),u}}}}));","extractedComments":[]}